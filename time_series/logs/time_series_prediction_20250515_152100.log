2025-05-15 15:21:00,638 - time_series - INFO - 开始运行时间序列预测系统
2025-05-15 15:21:00,638 - time_series - INFO - 日志文件: time_series/logs\time_series_prediction_20250515_152100.log
2025-05-15 15:21:00,638 - data_utils - INFO - 正在加载数据集: time_series\北京-逐日.xlsx
2025-05-15 15:21:01,149 - data_utils - INFO - 数据集加载成功，形状: (3362, 9)
2025-05-15 15:21:01,149 - data_utils - INFO - 提取的AQI数据形状: (3362,)
2025-05-15 15:21:01,153 - data_utils - INFO - 创建的序列形状: X=(3355, 7), y=(3355,)
2025-05-15 15:21:01,153 - data_utils - INFO - 训练集形状: X=(2348, 7), y=(2348,)
2025-05-15 15:21:01,153 - data_utils - INFO - 验证集形状: X=(335, 7), y=(335,)
2025-05-15 15:21:01,156 - data_utils - INFO - 测试集形状: X=(672, 7), y=(672,)
2025-05-15 15:21:01,156 - data_processor - INFO - 数据处理器初始化，序列长度: 7, 批次大小: 32
2025-05-15 15:21:01,156 - time_series - INFO - ==================================================
2025-05-15 15:21:01,157 - time_series - INFO - 开始LSTM模型训练和预测
2025-05-15 15:21:01,157 - data_processor - INFO - PyTorch数据准备完成
2025-05-15 15:21:01,158 - data_processor - INFO - 训练批次数: 74
2025-05-15 15:21:01,158 - data_processor - INFO - 验证批次数: 11
2025-05-15 15:21:01,158 - data_processor - INFO - 测试批次数: 21
2025-05-15 15:21:04,808 - lstm_model - INFO - LSTM模型初始化，设备: cuda
2025-05-15 15:21:04,808 - lstm_model - INFO - 模型结构: 输入大小=1, 隐藏大小=64, 层数=2
2025-05-15 15:21:04,808 - lstm_model - INFO - 开始训练LSTM模型，总共20个周期
2025-05-15 15:21:05,855 - lstm_model - INFO - 周期 1/20, 训练损失: 0.018578, 验证损失: 0.011854
2025-05-15 15:21:05,862 - lstm_model - INFO - 模型改进，已保存最佳模型
2025-05-15 15:21:06,051 - lstm_model - INFO - 周期 2/20, 训练损失: 0.016547, 验证损失: 0.011229
2025-05-15 15:21:06,062 - lstm_model - INFO - 模型改进，已保存最佳模型
2025-05-15 15:21:06,258 - lstm_model - INFO - 周期 3/20, 训练损失: 0.015690, 验证损失: 0.009504
2025-05-15 15:21:06,269 - lstm_model - INFO - 模型改进，已保存最佳模型
2025-05-15 15:21:06,471 - lstm_model - INFO - 周期 4/20, 训练损失: 0.013804, 验证损失: 0.008943
2025-05-15 15:21:06,474 - lstm_model - INFO - 模型改进，已保存最佳模型
2025-05-15 15:21:06,680 - lstm_model - INFO - 周期 5/20, 训练损失: 0.012387, 验证损失: 0.009882
2025-05-15 15:21:06,876 - lstm_model - INFO - 周期 6/20, 训练损失: 0.011966, 验证损失: 0.009876
2025-05-15 15:21:07,099 - lstm_model - INFO - 周期 7/20, 训练损失: 0.011820, 验证损失: 0.010420
2025-05-15 15:21:07,310 - lstm_model - INFO - 周期 8/20, 训练损失: 0.011697, 验证损失: 0.009601
2025-05-15 15:21:07,524 - lstm_model - INFO - 周期 9/20, 训练损失: 0.011604, 验证损失: 0.010167
2025-05-15 15:21:07,729 - lstm_model - INFO - 周期 10/20, 训练损失: 0.011380, 验证损失: 0.009809
2025-05-15 15:21:07,927 - lstm_model - INFO - 周期 11/20, 训练损失: 0.011480, 验证损失: 0.009938
2025-05-15 15:21:08,137 - lstm_model - INFO - 周期 12/20, 训练损失: 0.011493, 验证损失: 0.010534
2025-05-15 15:21:08,334 - lstm_model - INFO - 周期 13/20, 训练损失: 0.011542, 验证损失: 0.010711
2025-05-15 15:21:08,523 - lstm_model - INFO - 周期 14/20, 训练损失: 0.011512, 验证损失: 0.010619
2025-05-15 15:21:08,523 - lstm_model - INFO - 早停触发，10个周期内验证损失未改善
2025-05-15 15:21:08,556 - lstm_model - INFO - 训练完成，已加载最佳模型
2025-05-15 15:21:08,579 - evaluation - INFO - 模型 LSTM 评估结果:
2025-05-15 15:21:08,579 - evaluation - INFO - RMSE: 39.6213
2025-05-15 15:21:08,580 - evaluation - INFO - MAE: 30.4199
2025-05-15 15:21:08,580 - evaluation - INFO - R²: 0.0111
2025-05-15 15:21:08,580 - evaluation - INFO - MAPE: 60.5137%
2025-05-15 15:21:08,580 - evaluation - INFO - 执行时间: 3.7474 秒
2025-05-15 15:21:09,197 - time_series - INFO - LSTM模型完成，评估结果: RMSE=39.6213, MAE=30.4199
2025-05-15 15:21:09,197 - time_series - INFO - ==================================================
2025-05-15 15:21:09,198 - time_series - INFO - 开始CNN模型训练和预测
2025-05-15 15:21:09,198 - data_processor - INFO - PyTorch数据准备完成
2025-05-15 15:21:09,198 - data_processor - INFO - 训练批次数: 74
2025-05-15 15:21:09,198 - data_processor - INFO - 验证批次数: 11
2025-05-15 15:21:09,198 - data_processor - INFO - 测试批次数: 21
2025-05-15 15:21:09,202 - cnn_model - INFO - CNN模型初始化，设备: cuda
2025-05-15 15:21:09,202 - cnn_model - INFO - 模型结构: 输入通道=1, 序列长度=7
2025-05-15 15:21:09,202 - cnn_model - INFO - 开始训练CNN模型，总共20个周期
