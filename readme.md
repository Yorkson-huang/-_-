# 时间序列预测系统

这是一个综合性的时间序列预测系统，集成了多种机器学习和深度学习模型，用于空气质量指数(AQI)的预测。该系统实现了多种先进的预测模型，并提供了完整的数据处理、模型训练、评估和可视化功能。

## 模型详解

### 1. 深度学习模型
- **LSTM (Long Short-Term Memory)**
  - 特点：能够捕获长期依赖关系
  - 结构：双层LSTM，隐藏层大小64
  - 适用：长序列时间预测任务

- **CNN (Convolutional Neural Network)**
  - 特点：善于提取局部特征
  - 结构：多层卷积层+池化层
  - 适用：具有局部模式的时间序列

- **CNN-LSTM**
  - 特点：结合CNN的特征提取和LSTM的序列建模能力
  - 结构：CNN层+LSTM层
  - 适用：复杂时间序列模式

- **Transformer**
  - 特点：自注意力机制，并行计算能力强
  - 结构：
    - 输入嵌入维度：64
    - 注意力头数：4
    - 编码器层数：2
    - 前馈网络维度：128
  - 适用：需要捕获全局依赖关系的序列

- **CNN-LSTM-Attention**
  - 特点：结合注意力机制的混合模型
  - 结构：CNN+LSTM+注意力层
  - 适用：需要关注重要时间步的复杂序列

### 2. 机器学习模型
- **线性回归**
  - 特点：简单、可解释性强
  - 适用：线性趋势明显的序列

- **决策树**
  - 特点：非线性关系建模
  - 适用：具有明显分段特征的序列

- **随机森林**
  - 特点：集成学习，抗噪声
  - 适用：复杂非线性关系

- **XGBoost**
  - 特点：梯度提升，高效精确
  - 适用：大规模数据集

- **SVM (Support Vector Machine)**
  - 特点：适用于小样本，抗过拟合
  - 适用：高维特征空间

- **梯度提升树**
  - 特点：序列化的决策树提升
  - 适用：复杂非线性关系

- **LightGBM**
  - 特点：高效的梯度提升实现
  - 适用：大规模数据集

- **CatBoost**
  - 特点：处理类别特征的新型提升算法
  - 适用：含类别特征的数据集

### 3. 统计模型
- **ARIMA**
  - 特点：经典时间序列模型
  - 结构：自回归+差分+移动平均
  - 适用：具有明显季节性和趋势的数据

- **Prophet**
  - 特点：Facebook开发的时间序列预测工具
  - 结构：分解模型（趋势+季节性+节假日）
  - 适用：具有强季节性和多个周期的数据

## 评价指标详解

### 1. 准确性指标
- **RMSE (均方根误差)**
  - 计算方式：\[ RMSE = \sqrt{\frac{1}{n}\sum_{i=1}^{n}(y_i - \hat{y}_i)^2} \]
  - 特点：对大误差更敏感
  - 单位：与原始数据相同

- **MAE (平均绝对误差)**
  - 计算方式：\[ MAE = \frac{1}{n}\sum_{i=1}^{n}|y_i - \hat{y}_i| \]
  - 特点：直观、易解释
  - 单位：与原始数据相同

- **R² (决定系数)**
  - 计算方式：\[ R^2 = 1 - \frac{\sum_{i=1}^{n}(y_i - \hat{y}_i)^2}{\sum_{i=1}^{n}(y_i - \bar{y})^2} \]
  - 范围：(-∞, 1]
  - 特点：反映模型解释变异的程度

- **MAPE (平均绝对百分比误差)**
  - 计算方式：\[ MAPE = \frac{100\%}{n}\sum_{i=1}^{n}|\frac{y_i - \hat{y}_i}{y_i}| \]
  - 特点：以百分比形式表示误差
  - 范围：[0, ∞)

### 2. 效率指标
- **执行时间**
  - 包含：数据预处理+模型训练+预测的总时间
  - 单位：秒
  - 用途：评估模型实用性

### 3. 可视化评估
- 预测值与实际值的对比图
- 误差分布图
- 模型性能对比柱状图
- 训练过程中的损失曲线

所有评估结果都会保存在 `results/all_models_comparison.xlsx` 文件中，便于进行详细的模型对比分析。
